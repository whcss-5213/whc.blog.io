import{t as l,v as e,x as t,y as a}from"./chunks/vue-vendor.DO2WDVa2.js";import"./app.DQeW2hZN.js";import"./chunks/vendor.CimhImBR.js";const u=JSON.parse('{"title":"Git","description":"","frontmatter":{},"headers":[],"relativePath":"git/index.md","filePath":"tools/git/index.md"}'),s={name:"git/index.md"};function p(o,i,h,d,n,r){return t(),e("div",null,i[0]||(i[0]=[a(`<h1 id="git" tabindex="-1">Git <a class="header-anchor" href="#git" aria-label="Permalink to &quot;Git&quot;">​</a></h1><h2 id="初始化" tabindex="-1">初始化 <a class="header-anchor" href="#初始化" aria-label="Permalink to &quot;初始化&quot;">​</a></h2><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;填写自己的用户名&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 配置个人用户名</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.email</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;填写自己的邮箱号&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 电子邮件地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> core.autocrlf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 结束符CRLF和LF 之间转换</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="git-status" tabindex="-1">git status <a class="header-anchor" href="#git-status" aria-label="Permalink to &quot;git status&quot;">​</a></h2><p>查看当前文件的状态</p><h2 id="git-stash" tabindex="-1">git stash <a class="header-anchor" href="#git-stash" aria-label="Permalink to &quot;git stash&quot;">​</a></h2><p>将当前工作目录中尚未提交的所有更改（包括暂存区和未暂存的修改）临时存储到stash堆栈中</p><ul><li>git stash save<div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;注释&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -u 表示还工作区中新增的文件</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 不加u只会存储工作区中已经存在的文件的修改</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li>git stash list</li><li>git stash push 同 save</li><li>git stash pop 弹出</li><li>git stash apply 读</li><li>git stash drop 删</li></ul><h2 id="git-add" tabindex="-1">git add <a class="header-anchor" href="#git-add" aria-label="Permalink to &quot;git add&quot;">​</a></h2><ul><li><p>把指定的文件添加到暂存区中</p></li><li><p>git add <code>文件路径</code></p></li><li><p>添加所有修改、已删除的文件到暂存区中</p></li><li><p>git add -u <code>文件路径</code></p></li><li><p>git add --update <code>文件路径</code></p></li><li><p>添加所有修改、已删除、新增的文件到暂存区中，省略 <code>文件路径</code> 即为当前目录</p></li><li><p>git add -A <code>文件路径</code></p></li><li><p>git add --all <code>文件路径</code></p></li><li><p>查看所有修改、已删除但没有提交的文件，进入一个子命令系统</p></li><li><p>git add -i <code>文件路径</code></p></li><li><p>git add --interactive <code>文件路径</code></p></li></ul><h2 id="git-commit" tabindex="-1">git commit <a class="header-anchor" href="#git-commit" aria-label="Permalink to &quot;git commit&quot;">​</a></h2><ul><li><p>把暂存区中的文件提交到本地仓库，调用文本编辑器输入该次提交的描述信息</p></li><li><p>git commit</p></li><li><p>把暂存区中的文件提交到本地仓库中并添加描述信息</p></li><li><p>git commit -m&quot;<code>提交的描述信息</code>&quot;</p></li><li><p>把所有修改、已删除的文件提交到本地仓库中</p></li><li><p>不包括未被版本库跟踪的文件，等同于先调用了 &quot;git add -u&quot;</p></li><li><p>git commit -a -m &quot;<code>提交的描述信息</code>&quot;</p></li><li><p>修改上次提交的描述信息</p></li><li><p>git commit --amend</p></li><li><p>git commit --amend --no-edit</p></li></ul><h2 id="git-log" tabindex="-1">git log <a class="header-anchor" href="#git-log" aria-label="Permalink to &quot;git log&quot;">​</a></h2><p>显示提交的记录。</p><ul><li><p>git log</p></li><li><p>git log --pretty=oneline</p></li><li><p>git log --oneline</p></li><li><p>git log --pretty=short</p></li><li><p>空格 下翻页 b 上翻页 q 退出</p></li><li><p>打印从第一次提交到指定的提交的记录 git log <code>commit ID</code></p></li><li><p>包含回滚信息 git reflog</p></li></ul><h2 id="git-shortlog" tabindex="-1">git shortlog <a class="header-anchor" href="#git-shortlog" aria-label="Permalink to &quot;git shortlog&quot;">​</a></h2><p>用于生成提交者的统计信息，它会按照提交者对提交的数量进行汇总并展示</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shortlog</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>-n 根据每个作者的提交数量对输出进行排序，而不是按照作者的字母顺序。</li><li>-s summary,省略 commit 的注释,只提供提交计数摘要。</li><li>-e 显示每个作者的电子邮件地址。</li></ul><h2 id="git-reset" tabindex="-1">git reset <a class="header-anchor" href="#git-reset" aria-label="Permalink to &quot;git reset&quot;">​</a></h2><p>还原提交记录。</p><ul><li><p>重置暂存区，但文件不受影响</p></li><li><p>相当于将用 &quot;git add&quot; 命令更新到暂存区的内容撤出暂存区，可以指定文件</p></li><li><p>没有指定 commit ID 则默认为当前 HEAD</p></li><li><p>git reset <code>文件路径</code></p></li><li><p>git reset --mixed <code>文件路径</code></p></li><li><p>将 HEAD 的指向改变，撤销到指定的提交记录，文件未修改</p></li><li><p>git reset <code>commit ID</code></p></li><li><p>git reset --mixed <code>commit ID</code></p></li><li><p>将 HEAD 的指向改变，撤销到指定的提交记录，文件未修改</p></li><li><p>相当于调用 &quot;git reset --mixed&quot; 命令后又做了一次 &quot;git add&quot;</p></li><li><p>git reset --soft <code>commit ID</code></p></li><li><p>将 HEAD 的指向改变，撤销到指定的提交记录，文件也修改了</p></li><li><p>git reset --hard <code>commit ID</code></p></li><li><p>git reset --hard HEAD~3 回退3步</p></li><li><p>git reset --hard HEAD^^^ 回退3步</p></li><li><p>--soft 在本地库（历史区）移动HEAD指针</p></li><li><p>--mixed 在本地库移动HEAD指针 重置暂存区，</p></li><li><p>--hard 在本地库移动HEAD指针 重置暂存区和工作区。</p></li></ul><h2 id="git-rebase" tabindex="-1">git rebase <a class="header-anchor" href="#git-rebase" aria-label="Permalink to &quot;git  rebase&quot;">​</a></h2><ul><li><p>git rebase -i</p><ul><li>p, pick = use commit</li><li>r, reword = use commit, but edit the commit message</li><li>e, edit = use commit, but stop for amending</li><li>s, squash = use commit, but meld into previous commit</li><li>f, fixup = like &quot;squash&quot;, but discard this commit&#39;s log message</li><li>x, exec = run command (the rest of the line) using shell</li><li>d, drop = remove commit</li></ul></li><li><p>不要在 master（公共） 分支 rebase</p></li><li><p>找到两条节点的共同节点</p></li><li><p>把共同节点后的提交嫁接到目标分支上</p></li><li><p>嫁接节点的 commit 值会改变</p></li><li><p>移动HEAD到最新的commit处</p><p>git - --continue</p></li></ul><h2 id="git-revert" tabindex="-1">git revert <a class="header-anchor" href="#git-revert" aria-label="Permalink to &quot;git revert&quot;">​</a></h2><p>会产生新的提交记录</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> revert</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">commit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> I</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 默认选项</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> revert</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-edit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">commit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> I</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 会把当前 commit 和要 revert 的 commit 的上一个 commit 合并成一个新的 commit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> revert</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-commit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">commit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> I</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 不会自动产生commit，把改动的代码加到工作区和暂存区，用户可以自行修改并提交commit。</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>reset命令是重置到一个记录：git reset 是将之前的提交记录全部抹去，将 HEAD 指向自己重置的提交记录.</p><p>revert命令是撤回一个记录；git revert 操作是撤回某一次提交记录，若之后又有提交，提交记录还存在.</p><h2 id="git-merge" tabindex="-1">git merge <a class="header-anchor" href="#git-merge" aria-label="Permalink to &quot;git merge&quot;">​</a></h2><ul><li>git merge</li><li>合并分支。</li><li>把指定的分支合并到当前所在的分支下</li><li>根据两分支的共同节点和最新节点生成一个新的提交 commit</li><li>git merge <code>分支名称</code></li></ul><h2 id="git-cherry-pick" tabindex="-1">git cherry-pick <a class="header-anchor" href="#git-cherry-pick" aria-label="Permalink to &quot;git cherry-pick&quot;">​</a></h2><ul><li>把已经提交的记录合并到当前分支。</li><li>git cherry-pick <code>commit ID</code></li><li>pick 两个节点 1和3</li><li>git cherry-pick <code>commit ID1</code> <code>commit ID3</code></li><li>pick （节点1，节点3] 不包含节点1</li><li>git cherry-pick <code>commit ID1</code> .. <code>commit ID3</code></li><li>pick [节点1，节点3] 包含节点1</li><li>git cherry-pick <code>commit ID1</code> ^.. <code>commit ID3</code></li></ul><h2 id="git-tag" tabindex="-1">git tag <a class="header-anchor" href="#git-tag" aria-label="Permalink to &quot;git tag&quot;">​</a></h2><p>操作标签的命令。</p><ul><li><p>打印所有的标签</p></li><li><p>git tag</p></li><li><p>添加轻量标签，指向提交对象的引用，可以指定之前的提交记录</p></li><li><p>git tag <code>标签名称</code> <code>commit ID</code></p></li><li><p>添加带有描述信息的附注标签，可以指定之前的提交记录</p></li><li><p>git tag -a <code>标签名称</code> -m <code>标签描述信息</code> <code>commit ID</code></p></li><li><p>切换到指定的标签</p></li><li><p>git checkout <code>标签名称</code></p></li><li><p>查看标签的信息</p></li><li><p>git show <code>标签名称</code></p></li><li><p>删除指定的标签</p></li><li><p>git tag -d <code>标签名称</code></p></li></ul><h2 id="git-mv" tabindex="-1">git mv <a class="header-anchor" href="#git-mv" aria-label="Permalink to &quot;git mv&quot;">​</a></h2><ul><li>重命名文件或者文件夹。</li><li>重命名指定的文件或者文件夹</li><li>git mv <code>源文件/文件夹</code> <code>目标文件/文件夹</code></li></ul><h2 id="git-rm" tabindex="-1">git rm <a class="header-anchor" href="#git-rm" aria-label="Permalink to &quot;git rm&quot;">​</a></h2><ul><li><p>删除文件或者文件夹。</p></li><li><p>移除跟踪指定的文件，并从本地仓库的文件夹中删除</p></li><li><p>git rm <code>文件路径</code></p></li><li><p>移除跟踪指定的文件夹，并从本地仓库的文件夹中删除</p></li><li><p>git rm -r <code>文件夹路径</code></p></li><li><p>移除跟踪指定的文件，在本地仓库的文件夹中保留该文件</p></li><li><p>git rm --cached</p></li></ul><h2 id="git-remote" tabindex="-1">git remote <a class="header-anchor" href="#git-remote" aria-label="Permalink to &quot;git remote&quot;">​</a></h2><ul><li><p>操作远程库。</p></li><li><p>列出已经存在的远程仓库</p></li><li><p>git remote</p></li><li><p>列出远程仓库的详细信息，在别名后面列出URL地址</p></li><li><p>git remote -v</p></li><li><p>git remote --verbose</p></li><li><p>添加远程仓库</p></li><li><p>git remote add <code>远程仓库的别名</code> <code>远程仓库的URL地址</code></p></li><li><p>修改远程仓库的别名</p></li><li><p>git remote rename <code>原远程仓库的别名</code> <code>新的别名</code></p></li><li><p>删除指定名称的远程仓库</p></li><li><p>git remote remove <code>远程仓库的别名</code></p></li><li><p>修改远程仓库的 URL 地址</p></li><li><p>git remote set-url <code>远程仓库的别名</code> <code>新的远程仓库URL地址</code></p></li></ul><h2 id="git-pull" tabindex="-1">git pull <a class="header-anchor" href="#git-pull" aria-label="Permalink to &quot;git pull&quot;">​</a></h2><p>从远程仓库获取最新版本并合并到本地。</p><ul><li><p>首先会执行 git fetch，然后执行 git merge，把获取的分支的 HEAD 合并到当前分支。</p></li><li><p>从远程仓库获取最新版本。</p></li><li><p>git pull</p></li></ul><h2 id="git-push" tabindex="-1">git push <a class="header-anchor" href="#git-push" aria-label="Permalink to &quot;git push&quot;">​</a></h2><p>把本地仓库的提交推送到远程仓库。</p><ul><li><p>把本地仓库的分支推送到远程仓库的指定分支</p></li><li><p>git push <code>远程仓库的别名</code> <code>本地分支名</code>:<code>远程分支名</code></p></li><li><p>将指定的标签提交到远程仓库</p></li><li><p>git push <code>远程仓库的别名</code> <code>标签名称</code></p></li><li><p>将本地所有的标签全部提交到远程仓库</p></li><li><p>git push <code>远程仓库的别名</code> –tags</p></li><li><p>删除指定的远程仓库的分支</p></li><li><p>git push <code>远程仓库的别名</code> :<code>远程分支名</code></p></li><li><p>git push <code>远程仓库的别名</code> --delete <code>远程分支名</code></p></li></ul><h2 id="git-clone" tabindex="-1">git clone <a class="header-anchor" href="#git-clone" aria-label="Permalink to &quot;git clone&quot;">​</a></h2><ul><li><p>只拉取最近的一个 revision git clone --depth=1</p></li><li><p>拉取指定分支 git clone -b dev</p></li><li><p>只克隆一个裸仓库 git clone --bare **.git</p></li></ul><h2 id="git-branch" tabindex="-1">git branch <a class="header-anchor" href="#git-branch" aria-label="Permalink to &quot;git branch&quot;">​</a></h2><ul><li><p>操作 Git 的分支命令。</p></li><li><p>列出本地的所有分支，当前所在分支以 &quot;*&quot; 标出</p></li><li><p>git branch</p></li><li><p>列出本地的所有分支并显示最后一次提交，当前所在分支以 &quot;*&quot; 标出</p></li><li><p>git branch -v</p></li><li><p>创建新分支，新的分支基于上一次提交建立</p></li><li><p>git branch <code>分支名</code></p></li><li><p>修改分支名称</p></li><li><p>如果不指定原分支名称则为当前所在分支</p></li><li><p>git branch -m <code>原分支名称</code> <code>新的分支名称</code></p></li><li><p>强制修改分支名称</p></li><li><p>git branch -M <code>原分支名称</code> <code>新的分支名称</code></p></li><li><p>删除指定的本地分支</p></li><li><p>git branch -d <code>分支名称</code></p></li><li><p>强制删除指定的本地分支</p></li><li><p>git branch -D <code>分支名称</code></p></li></ul><h2 id="git-checkout" tabindex="-1">git checkout <a class="header-anchor" href="#git-checkout" aria-label="Permalink to &quot;git checkout&quot;">​</a></h2><ul><li><p>检出命令，用于创建、切换分支等。</p></li><li><p>切换到已存在的指定分支</p></li><li><p>git checkout <code>分支名称</code></p></li><li><p>创建并切换到指定的分支，保留所有的提交记录</p></li><li><p>等同于 &quot;git branch&quot; 和 &quot;git checkout&quot; 两个命令合并</p></li><li><p>git checkout -b <code>分支名称</code></p></li><li><p>创建并切换到指定的分支，删除所有的提交记录</p></li><li><p>git checkout --orphan <code>分支名称</code></p></li><li><p>替换掉本地的改动，新增的文件和已经添加到暂存区的内容不受影响</p></li><li><p>git checkout <code>文件路径</code></p></li></ul><h2 id="git-fetch" tabindex="-1">git fetch <a class="header-anchor" href="#git-fetch" aria-label="Permalink to &quot;git fetch&quot;">​</a></h2><ul><li><p>从远程仓库获取最新的版本到本地的 tmp 分支上。</p></li><li><p>将远程仓库所有分支的最新版本全部取回到本地</p></li><li><p>git fetch <code>远程仓库的别名</code></p></li><li><p>将远程仓库指定分支的最新版本取回到本地</p></li><li><p>git fetch <code>远程主机名</code> <code>分支名</code></p></li></ul><h2 id="git-diff" tabindex="-1">git diff <a class="header-anchor" href="#git-diff" aria-label="Permalink to &quot;git diff&quot;">​</a></h2><ul><li><p>比较版本之间的差异。</p></li><li><p>比较当前文件和暂存区中文件的差异，显示没有暂存起来的更改</p></li><li><p>git diff</p></li><li><p>比较暂存区中的文件和上次提交时的差异</p></li><li><p>git diff --cached</p></li><li><p>git diff --staged</p></li><li><p>比较当前文件和上次提交时的差异</p></li><li><p>git diff HEAD</p></li><li><p>查看从指定的版本之后改动的内容</p></li><li><p>git diff <code>commit ID</code></p></li><li><p>比较两个分支之间的差异</p></li><li><p>git diff <code>分支名称</code> <code>分支名称</code></p></li></ul>`,58)]))}const m=l(s,[["render",p]]);export{u as __pageData,m as default};
